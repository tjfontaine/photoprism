{
    "swagger": "2.0",
    "info": {
        "contact": {}
    },
    "paths": {
        "/session": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "summary": "create a session by logging in",
                "parameters": [
                    {
                        "description": "login form",
                        "name": "id",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/form.Login"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.SessionResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/api.APIError"
                        }
                    }
                }
            }
        },
        "/session/:id": {
            "delete": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "summary": "Delete active session",
                "parameters": [
                    {
                        "type": "string",
                        "description": "session id",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.APIResponse"
                        }
                    }
                }
            }
        },
        "/upload/:path": {
            "post": {
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "summary": "upload a new image",
                "parameters": [
                    {
                        "type": "string",
                        "description": "path to file",
                        "name": "path",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "file",
                        "description": "list of files",
                        "name": "files",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/i18n.Response"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "api.APIError": {
            "type": "object",
            "properties": {
                "error": {
                    "type": "string"
                }
            }
        },
        "api.APIResponse": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "status": {
                    "type": "string"
                }
            }
        },
        "api.SessionResponse": {
            "type": "object",
            "properties": {
                "clientConfig": {
                    "$ref": "#/definitions/config.ClientConfig"
                },
                "id": {
                    "type": "string"
                },
                "sessionData": {
                    "$ref": "#/definitions/session.Data"
                },
                "status": {
                    "type": "string"
                }
            }
        },
        "config.CategoryLabel": {
            "type": "object",
            "properties": {
                "Name": {
                    "type": "string"
                },
                "Slug": {
                    "type": "string"
                },
                "UID": {
                    "type": "string"
                }
            }
        },
        "config.ClientConfig": {
            "type": "object",
            "properties": {
                "albumCategories": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "albums": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/entity.Album"
                    }
                },
                "apiUri": {
                    "type": "string"
                },
                "appIcon": {
                    "type": "string"
                },
                "appMode": {
                    "type": "string"
                },
                "appName": {
                    "type": "string"
                },
                "baseUri": {
                    "type": "string"
                },
                "cameras": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/entity.Camera"
                    }
                },
                "categories": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/config.CategoryLabel"
                    }
                },
                "clip": {
                    "type": "integer"
                },
                "colors": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    }
                },
                "contentUri": {
                    "type": "string"
                },
                "copyright": {
                    "type": "string"
                },
                "count": {
                    "$ref": "#/definitions/config.ClientCounts"
                },
                "countries": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/entity.Country"
                    }
                },
                "cssUri": {
                    "type": "string"
                },
                "debug": {
                    "type": "boolean"
                },
                "demo": {
                    "type": "boolean"
                },
                "disable": {
                    "$ref": "#/definitions/config.ClientDisable"
                },
                "downloadToken": {
                    "type": "string"
                },
                "edition": {
                    "type": "string"
                },
                "experimental": {
                    "type": "boolean"
                },
                "flags": {
                    "type": "string"
                },
                "imprint": {
                    "type": "string"
                },
                "imprintUrl": {
                    "type": "string"
                },
                "jsUri": {
                    "type": "string"
                },
                "lenses": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/entity.Lens"
                    }
                },
                "manifestUri": {
                    "type": "string"
                },
                "mapKey": {
                    "type": "string"
                },
                "mode": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "people": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/entity.Person"
                    }
                },
                "pos": {
                    "$ref": "#/definitions/config.ClientPosition"
                },
                "previewToken": {
                    "type": "string"
                },
                "public": {
                    "type": "boolean"
                },
                "readonly": {
                    "type": "boolean"
                },
                "server": {
                    "$ref": "#/definitions/env.Resources"
                },
                "settings": {
                    "$ref": "#/definitions/config.Settings"
                },
                "siteAuthor": {
                    "type": "string"
                },
                "siteCaption": {
                    "type": "string"
                },
                "siteDescription": {
                    "type": "string"
                },
                "siteDomain": {
                    "type": "string"
                },
                "sitePreview": {
                    "type": "string"
                },
                "siteTitle": {
                    "type": "string"
                },
                "siteUrl": {
                    "type": "string"
                },
                "sponsor": {
                    "type": "boolean"
                },
                "staticUri": {
                    "type": "string"
                },
                "status": {
                    "type": "string"
                },
                "test": {
                    "type": "boolean"
                },
                "thumbs": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/config.ThumbSize"
                    }
                },
                "trace": {
                    "type": "boolean"
                },
                "uploadNSFW": {
                    "type": "boolean"
                },
                "version": {
                    "type": "string"
                },
                "wallpaperUri": {
                    "type": "string"
                },
                "years": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                }
            }
        },
        "config.ClientCounts": {
            "type": "object",
            "properties": {
                "albums": {
                    "type": "integer"
                },
                "all": {
                    "type": "integer"
                },
                "cameras": {
                    "type": "integer"
                },
                "countries": {
                    "type": "integer"
                },
                "favorites": {
                    "type": "integer"
                },
                "files": {
                    "type": "integer"
                },
                "folders": {
                    "type": "integer"
                },
                "hidden": {
                    "type": "integer"
                },
                "labelMaxPhotos": {
                    "type": "integer"
                },
                "labels": {
                    "type": "integer"
                },
                "lenses": {
                    "type": "integer"
                },
                "live": {
                    "type": "integer"
                },
                "moments": {
                    "type": "integer"
                },
                "months": {
                    "type": "integer"
                },
                "people": {
                    "type": "integer"
                },
                "photos": {
                    "type": "integer"
                },
                "places": {
                    "type": "integer"
                },
                "private": {
                    "type": "integer"
                },
                "review": {
                    "type": "integer"
                },
                "states": {
                    "type": "integer"
                },
                "stories": {
                    "type": "integer"
                },
                "videos": {
                    "type": "integer"
                }
            }
        },
        "config.ClientDisable": {
            "type": "object",
            "properties": {
                "backups": {
                    "type": "boolean"
                },
                "classification": {
                    "type": "boolean"
                },
                "darktable": {
                    "type": "boolean"
                },
                "exiftool": {
                    "type": "boolean"
                },
                "faces": {
                    "type": "boolean"
                },
                "ffmpeg": {
                    "type": "boolean"
                },
                "heifconvert": {
                    "type": "boolean"
                },
                "places": {
                    "type": "boolean"
                },
                "raw": {
                    "type": "boolean"
                },
                "rawtherapee": {
                    "type": "boolean"
                },
                "settings": {
                    "type": "boolean"
                },
                "sips": {
                    "type": "boolean"
                },
                "tensorflow": {
                    "type": "boolean"
                },
                "webdav": {
                    "type": "boolean"
                }
            }
        },
        "config.ClientPosition": {
            "type": "object",
            "properties": {
                "cid": {
                    "type": "string"
                },
                "lat": {
                    "type": "number"
                },
                "lng": {
                    "type": "number"
                },
                "uid": {
                    "type": "string"
                },
                "utc": {
                    "type": "string"
                }
            }
        },
        "config.DownloadSettings": {
            "type": "object",
            "properties": {
                "disabled": {
                    "type": "boolean"
                },
                "mediaRaw": {
                    "type": "boolean"
                },
                "mediaSidecar": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                },
                "originals": {
                    "type": "boolean"
                }
            }
        },
        "config.FeatureSettings": {
            "type": "object",
            "properties": {
                "albums": {
                    "type": "boolean"
                },
                "archive": {
                    "type": "boolean"
                },
                "delete": {
                    "type": "boolean"
                },
                "download": {
                    "type": "boolean"
                },
                "edit": {
                    "type": "boolean"
                },
                "estimates": {
                    "type": "boolean"
                },
                "files": {
                    "type": "boolean"
                },
                "folders": {
                    "type": "boolean"
                },
                "import": {
                    "type": "boolean"
                },
                "labels": {
                    "type": "boolean"
                },
                "library": {
                    "type": "boolean"
                },
                "logs": {
                    "type": "boolean"
                },
                "moments": {
                    "type": "boolean"
                },
                "people": {
                    "type": "boolean"
                },
                "places": {
                    "type": "boolean"
                },
                "private": {
                    "type": "boolean"
                },
                "review": {
                    "type": "boolean"
                },
                "share": {
                    "type": "boolean"
                },
                "upload": {
                    "type": "boolean"
                },
                "videos": {
                    "type": "boolean"
                }
            }
        },
        "config.ImportSettings": {
            "type": "object",
            "properties": {
                "move": {
                    "type": "boolean"
                },
                "path": {
                    "type": "string"
                }
            }
        },
        "config.IndexSettings": {
            "type": "object",
            "properties": {
                "convert": {
                    "type": "boolean"
                },
                "path": {
                    "type": "string"
                },
                "rescan": {
                    "type": "boolean"
                },
                "skipArchived": {
                    "type": "boolean"
                }
            }
        },
        "config.MapsSettings": {
            "type": "object",
            "properties": {
                "animate": {
                    "type": "integer"
                },
                "style": {
                    "type": "string"
                }
            }
        },
        "config.SearchSettings": {
            "type": "object",
            "properties": {
                "batchSize": {
                    "type": "integer"
                }
            }
        },
        "config.Settings": {
            "type": "object",
            "properties": {
                "download": {
                    "$ref": "#/definitions/config.DownloadSettings"
                },
                "features": {
                    "$ref": "#/definitions/config.FeatureSettings"
                },
                "import": {
                    "$ref": "#/definitions/config.ImportSettings"
                },
                "index": {
                    "$ref": "#/definitions/config.IndexSettings"
                },
                "maps": {
                    "$ref": "#/definitions/config.MapsSettings"
                },
                "search": {
                    "$ref": "#/definitions/config.SearchSettings"
                },
                "share": {
                    "$ref": "#/definitions/config.ShareSettings"
                },
                "stack": {
                    "$ref": "#/definitions/config.StackSettings"
                },
                "templates": {
                    "$ref": "#/definitions/config.TemplateSettings"
                },
                "ui": {
                    "$ref": "#/definitions/config.UISettings"
                }
            }
        },
        "config.ShareSettings": {
            "type": "object",
            "properties": {
                "title": {
                    "type": "string"
                }
            }
        },
        "config.StackSettings": {
            "type": "object",
            "properties": {
                "meta": {
                    "type": "boolean"
                },
                "name": {
                    "type": "boolean"
                },
                "uuid": {
                    "type": "boolean"
                }
            }
        },
        "config.TemplateSettings": {
            "type": "object",
            "properties": {
                "default": {
                    "type": "string"
                }
            }
        },
        "config.ThumbSize": {
            "type": "object",
            "properties": {
                "h": {
                    "type": "integer"
                },
                "size": {
                    "type": "string"
                },
                "use": {
                    "type": "string"
                },
                "w": {
                    "type": "integer"
                }
            }
        },
        "config.UISettings": {
            "type": "object",
            "properties": {
                "language": {
                    "type": "string"
                },
                "scrollbar": {
                    "type": "boolean"
                },
                "theme": {
                    "type": "string"
                },
                "zoom": {
                    "type": "boolean"
                }
            }
        },
        "entity.Address": {
            "type": "object",
            "properties": {
                "CellID": {
                    "type": "string"
                },
                "City": {
                    "type": "string"
                },
                "Country": {
                    "type": "string"
                },
                "CreatedAt": {
                    "type": "string"
                },
                "DeletedAt": {
                    "type": "string"
                },
                "ID": {
                    "type": "integer"
                },
                "Lat": {
                    "type": "number"
                },
                "Line1": {
                    "type": "string"
                },
                "Line2": {
                    "type": "string"
                },
                "Lng": {
                    "type": "number"
                },
                "Notes": {
                    "type": "string"
                },
                "Src": {
                    "type": "string"
                },
                "State": {
                    "type": "string"
                },
                "UpdatedAt": {
                    "type": "string"
                },
                "Zip": {
                    "type": "string"
                }
            }
        },
        "entity.Album": {
            "type": "object",
            "properties": {
                "Caption": {
                    "type": "string"
                },
                "Category": {
                    "type": "string"
                },
                "Country": {
                    "type": "string"
                },
                "CreatedAt": {
                    "type": "string"
                },
                "Day": {
                    "type": "integer"
                },
                "DeletedAt": {
                    "type": "string"
                },
                "Description": {
                    "type": "string"
                },
                "Favorite": {
                    "type": "boolean"
                },
                "Filter": {
                    "type": "string"
                },
                "ID": {
                    "type": "integer"
                },
                "Location": {
                    "type": "string"
                },
                "Month": {
                    "type": "integer"
                },
                "Notes": {
                    "type": "string"
                },
                "Order": {
                    "type": "string"
                },
                "ParentUID": {
                    "type": "string"
                },
                "Path": {
                    "type": "string"
                },
                "Private": {
                    "type": "boolean"
                },
                "Slug": {
                    "type": "string"
                },
                "State": {
                    "type": "string"
                },
                "Template": {
                    "type": "string"
                },
                "Thumb": {
                    "type": "string"
                },
                "ThumbSrc": {
                    "type": "string"
                },
                "Title": {
                    "type": "string"
                },
                "Type": {
                    "type": "string"
                },
                "UID": {
                    "type": "string"
                },
                "UpdatedAt": {
                    "type": "string"
                },
                "Year": {
                    "type": "integer"
                }
            }
        },
        "entity.Camera": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "ID": {
                    "type": "integer"
                },
                "Make": {
                    "type": "string"
                },
                "Model": {
                    "type": "string"
                },
                "Name": {
                    "type": "string"
                },
                "Notes": {
                    "type": "string"
                },
                "Slug": {
                    "type": "string"
                },
                "Type": {
                    "type": "string"
                }
            }
        },
        "entity.Country": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "ID": {
                    "type": "string"
                },
                "Name": {
                    "type": "string"
                },
                "Notes": {
                    "type": "string"
                },
                "Slug": {
                    "type": "string"
                }
            }
        },
        "entity.Lens": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "ID": {
                    "type": "integer"
                },
                "Make": {
                    "type": "string"
                },
                "Model": {
                    "type": "string"
                },
                "Name": {
                    "type": "string"
                },
                "Notes": {
                    "type": "string"
                },
                "Slug": {
                    "type": "string"
                },
                "Type": {
                    "type": "string"
                }
            }
        },
        "entity.Person": {
            "type": "object",
            "properties": {
                "Alias": {
                    "type": "string"
                },
                "Favorite": {
                    "type": "boolean"
                },
                "Hidden": {
                    "type": "boolean"
                },
                "Name": {
                    "type": "string"
                },
                "UID": {
                    "type": "string"
                }
            }
        },
        "entity.User": {
            "type": "object",
            "properties": {
                "Address": {
                    "$ref": "#/definitions/entity.Address"
                },
                "ArtistName": {
                    "type": "string"
                },
                "BackupEmail": {
                    "type": "string"
                },
                "BirthDay": {
                    "type": "integer"
                },
                "BirthMonth": {
                    "type": "integer"
                },
                "BirthYear": {
                    "type": "integer"
                },
                "BusinessEmail": {
                    "type": "string"
                },
                "BusinessPhone": {
                    "type": "string"
                },
                "BusinessURL": {
                    "type": "string"
                },
                "CanInvite": {
                    "type": "boolean"
                },
                "CompanyName": {
                    "type": "string"
                },
                "CreatedAt": {
                    "type": "string"
                },
                "DeletedAt": {
                    "type": "string"
                },
                "DepartmentName": {
                    "type": "string"
                },
                "EmailConfirmed": {
                    "type": "boolean"
                },
                "FatherUID": {
                    "type": "string"
                },
                "FullName": {
                    "type": "string"
                },
                "GlobalUID": {
                    "type": "string"
                },
                "IsArtist": {
                    "type": "boolean"
                },
                "IsSubject": {
                    "type": "boolean"
                },
                "JobTitle": {
                    "type": "string"
                },
                "MaidenName": {
                    "type": "string"
                },
                "MotherUID": {
                    "type": "string"
                },
                "NickName": {
                    "type": "string"
                },
                "PersonAvatar": {
                    "type": "string"
                },
                "PersonBio": {
                    "type": "string"
                },
                "PersonLocation": {
                    "type": "string"
                },
                "PersonPhone": {
                    "type": "string"
                },
                "PersonStatus": {
                    "type": "string"
                },
                "PersonURL": {
                    "type": "string"
                },
                "PrimaryEmail": {
                    "type": "string"
                },
                "RoleAdmin": {
                    "type": "boolean"
                },
                "RoleChild": {
                    "type": "boolean"
                },
                "RoleFamily": {
                    "type": "boolean"
                },
                "RoleFriend": {
                    "type": "boolean"
                },
                "RoleGuest": {
                    "type": "boolean"
                },
                "StoragePath": {
                    "type": "string"
                },
                "TermsAccepted": {
                    "type": "boolean"
                },
                "UID": {
                    "type": "string"
                },
                "UpdatedAt": {
                    "type": "string"
                },
                "UserDisabled": {
                    "type": "boolean"
                },
                "UserName": {
                    "type": "string"
                },
                "UserStatus": {
                    "type": "string"
                },
                "WebDAV": {
                    "type": "boolean"
                }
            }
        },
        "env.Resources": {
            "type": "object",
            "properties": {
                "cores": {
                    "type": "integer"
                },
                "memory": {
                    "type": "object",
                    "properties": {
                        "free": {
                            "type": "integer"
                        },
                        "info": {
                            "type": "string"
                        },
                        "reserved": {
                            "type": "integer"
                        },
                        "total": {
                            "type": "integer"
                        },
                        "used": {
                            "type": "integer"
                        }
                    }
                },
                "routines": {
                    "type": "integer"
                }
            }
        },
        "form.Login": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                },
                "token": {
                    "type": "string"
                },
                "username": {
                    "type": "string"
                }
            }
        },
        "i18n.Response": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "details": {
                    "type": "string"
                },
                "error": {
                    "type": "string"
                },
                "message": {
                    "type": "string"
                }
            }
        },
        "session.Data": {
            "type": "object",
            "properties": {
                "shares": {
                    "description": "Slice of shared entity UIDs.",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "tokens": {
                    "description": "Slice of secret share tokens.",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "user": {
                    "description": "Session user, guest or anonymous person.",
                    "$ref": "#/definitions/entity.User"
                }
            }
        }
    }
}